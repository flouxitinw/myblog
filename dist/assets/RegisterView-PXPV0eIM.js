import{u as w,g as y,r as i,a as u,b as t,i as g,j as k,k as d,v as n,t as m,f as p,d as v,w as h,h as N,R as V,l as P,o as x}from"./index-K87GO5ZW.js";const _={class:"flex min-h-[70vh] items-center justify-center px-4"},R={class:"w-full max-w-sm space-y-6 rounded-3xl border border-slate-200 bg-white p-6 shadow-lg dark:border-slate-800 dark:bg-slate-900"},S={class:"block space-y-2 text-sm"},U={class:"block space-y-2 text-sm"},j={class:"block space-y-2 text-sm"},q={class:"block space-y-2 text-sm"},B={key:0,class:"rounded-2xl bg-red-50 px-3 py-2 text-xs text-red-500 dark:bg-red-500/10 dark:text-red-200"},C=["disabled"],D={class:"text-center text-xs text-slate-400 dark:text-slate-500"},A={__name:"RegisterView",setup(M){const c=w(),f=P(),s=y({username:"",displayName:"",password:"",confirmPassword:""}),r=i(!1),o=i(""),b=async()=>{if(!r.value){o.value="",r.value=!0;try{await c.register({username:s.username,password:s.password,confirmPassword:s.confirmPassword,displayName:s.displayName}),f.replace("/")}catch(l){o.value=(l==null?void 0:l.message)||"注册失败，请稍后再试"}finally{r.value=!1}}};return(l,e)=>(x(),u("div",_,[t("section",R,[e[10]||(e[10]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-slate-900 dark:text-slate-100"},"创建新账户"),t("p",{class:"mt-2 text-sm leading-relaxed text-slate-500 dark:text-slate-400"}," 注册信息仅保存在浏览器本地，可用于体验评论、点赞等互动功能。 ")],-1)),t("form",{class:"space-y-4",onSubmit:g(b,["prevent"])},[t("label",S,[e[4]||(e[4]=t("span",{class:"font-medium text-slate-600 dark:text-slate-300"},"用户名",-1)),d(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.username=a),type:"text",required:"",autocomplete:"username",class:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"},null,512),[[n,s.username]])]),t("label",U,[e[5]||(e[5]=t("span",{class:"font-medium text-slate-600 dark:text-slate-300"},"昵称（可选）",-1)),d(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.displayName=a),type:"text",autocomplete:"nickname",placeholder:"默认使用用户名",class:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"},null,512),[[n,s.displayName]])]),t("label",j,[e[6]||(e[6]=t("span",{class:"font-medium text-slate-600 dark:text-slate-300"},"密码",-1)),d(t("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>s.password=a),type:"password",required:"",minlength:"6",autocomplete:"new-password",class:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"},null,512),[[n,s.password]])]),t("label",q,[e[7]||(e[7]=t("span",{class:"font-medium text-slate-600 dark:text-slate-300"},"确认密码",-1)),d(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>s.confirmPassword=a),type:"password",required:"",minlength:"6",autocomplete:"new-password",class:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-700 shadow-sm focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"},null,512),[[n,s.confirmPassword]])]),o.value?(x(),u("p",B,m(o.value),1)):k("",!0),t("button",{type:"submit",disabled:r.value,class:"flex w-full items-center justify-center rounded-2xl bg-primary px-4 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-70"},m(r.value?"注册中...":"立即注册"),9,C)],32),t("p",D,[e[9]||(e[9]=p(" 已有账户？ ",-1)),v(N(V),{to:"/login",class:"text-primary underline-offset-2 hover:underline"},{default:h(()=>[...e[8]||(e[8]=[p("返回登录",-1)])]),_:1})])])]))}};export{A as default};
