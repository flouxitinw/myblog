import{r as k,c as a,a as g,b as e,f as m,e as b,d as i,t as x,w as _,h as T,R as B,l as C,o as d}from"./index-K87GO5ZW.js";import{u as V}from"./blog-CwRy5bNt.js";import{T as L,_ as R,a as S}from"./TagScroller-C9_Mm4FY.js";const N={class:"flex flex-col gap-8"},A={class:"space-y-6"},U={class:"space-y-4"},$={class:"space-y-2"},j={class:"text-2xl font-semibold text-slate-900 dark:text-slate-100"},q={class:"text-sm text-slate-500 dark:text-slate-400"},z={key:1,class:"rounded-3xl border border-dashed border-slate-300 bg-white p-8 text-center text-slate-500 dark:border-slate-700 dark:bg-slate-900"},I={__name:"TagView",props:{tag:{type:String,required:!0}},setup(f){const w=f,h=C(),o=V(),l=k(""),r=a(()=>decodeURIComponent(w.tag)),c=a(()=>{const s=r.value.toLowerCase();return o.allTags.find(t=>t.toLowerCase()===s)||r.value}),u=a(()=>o.findByTag(r.value)),n=a(()=>{const s=l.value.trim().toLowerCase();return s?u.value.filter(t=>[t.title,t.excerpt,t.content,...t.tags||[]].join(" ").toLowerCase().includes(s)):u.value}),v=a(()=>o.allTags),y=()=>{if(window.history.length>1){window.history.back();return}h.push({name:"home"})};return(s,t)=>(d(),g("div",N,[e("button",{type:"button",class:"flex w-fit items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm text-slate-600 shadow-sm transition hover:-translate-x-0.5 hover:text-primary dark:border-slate-800 dark:bg-slate-900 dark:text-slate-300",onClick:y},[...t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M15.707 5.293a1 1 0 0 1 0 1.414L11.414 11H20a1 1 0 0 1 0 2h-8.586l4.293 4.293a1 1 0 1 1-1.414 1.414l-6-6a1 1 0 0 1 0-1.414l6-6a1 1 0 0 1 1.414 0z"})],-1),m(" 返回 ",-1)])]),e("section",A,[e("div",U,[e("div",$,[t[2]||(t[2]=e("p",{class:"text-xs uppercase tracking-widest text-primary/80"},"标签",-1)),e("h1",j," #"+x(c.value),1),e("p",q," 共 "+x(n.value.length)+" 篇文章包含该标签。 ",1)]),i(L,{tags:v.value,"active-tag":c.value,"show-all-link":!0},null,8,["tags","active-tag"]),i(R,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=p=>l.value=p),placeholder:"在该标签内搜索..."},null,8,["modelValue"])]),n.value.length?(d(),b(S,{key:0,articles:n.value},null,8,["articles"])):(d(),g("section",z,[t[4]||(t[4]=e("h2",{class:"text-lg font-semibold"},"暂无匹配结果",-1)),t[5]||(t[5]=e("p",{class:"mt-2 text-sm"},"换个关键词试试，或返回查看全部文章。",-1)),i(T(B),{to:"/",class:"mt-4 inline-flex items-center rounded-full bg-primary px-4 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-primary/90"},{default:_(()=>[...t[3]||(t[3]=[m(" 回到首页 ",-1)])]),_:1})]))])]))}};export{I as default};
